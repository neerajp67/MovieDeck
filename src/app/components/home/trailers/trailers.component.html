<section class="content-section">
  <div class="content-header">
    <h2>Trailers</h2>
    <mat-button-toggle-group [(ngModel)]="selectedCategory" (change)="loadTrailers()"
      aria-label="Select trailer category">
      <mat-button-toggle value="movie">Movies</mat-button-toggle>
      <mat-button-toggle value="tv">TV Shows</mat-button-toggle>
      <mat-button-toggle value="upcomming">Upcomming</mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  @if (isLoading()) {
  <div class="info-message">
    <mat-spinner diameter="50"></mat-spinner>
  </div>
  }

  @if (errorMessage() && !isLoading()) {
  <div class="info-message error-message">
    <p>{{ errorMessage() }}</p>
  </div>
  }

  @if (!isLoading() && !errorMessage() && trailers().length === 0) {
  <div class="info-message">
    <p>No trailers found for this selection.</p>
  </div>
  }

  @if (!isLoading() && trailers().length > 0) {
  <app-horizontal-scroll>
    @for (media of trailers(); track $index) {
    <app-media-card [media]="getMedia(media)"></app-media-card>
    }
  </app-horizontal-scroll>
  }
</section>