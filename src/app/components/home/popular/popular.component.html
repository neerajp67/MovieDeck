<section class="content-section">
  <div class="content-header">
    <h2>Popular</h2>
    <mat-button-toggle-group [(ngModel)]="selectedCategory" (ngModelChange)="loadPopular()"
      aria-label="popular category selection">
      <mat-button-toggle value="movie">Movie</mat-button-toggle>
      <mat-button-toggle value="tv">TV Show</mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <div *ngIf="isLoading" class="info-message">
    <mat-spinner diameter="50"></mat-spinner>
  </div>

  <div *ngIf="errorMessage" class="info-message error-message">
    <p>{{ errorMessage }}</p>
  </div>

  <div *ngIf="!isLoading && !errorMessage && popularMedia.length === 0" class="info-message">
    <p>No popular media found for {{ selectedCategory === 'movie' ? 'movie' : 'tv' }}.</p>
  </div>

  <app-horizontal-scroll *ngIf="!isLoading && popularMedia.length > 0">
    <ng-container *ngFor="let media of popularMedia">
      <app-media-card [media]="getMedia(media)"></app-media-card>
    </ng-container>
  </app-horizontal-scroll>
</section>