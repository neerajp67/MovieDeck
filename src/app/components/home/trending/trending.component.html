<section class="content-section">
  <div class="content-header">
    <h2>Trending</h2>
    <mat-button-toggle-group [(ngModel)]="activeTimeWindow" (ngModelChange)="loadTrendingMovies()"
      aria-label="Time window selection">
      <mat-button-toggle value="day">Today</mat-button-toggle>
      <mat-button-toggle value="week">This Week</mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <div *ngIf="isLoading" class="info-message">
    <mat-spinner diameter="50"></mat-spinner>
  </div>

  <div *ngIf="errorMessage" class="info-message error-message">
    <p>{{ errorMessage }}</p>
  </div>

  <div *ngIf="!isLoading && !errorMessage && trendingMovies.length === 0" class="info-message">
    <p>No trending movies found for {{ activeTimeWindow === 'day' ? 'today' : 'this week' }}.</p>
  </div>

  <app-horizontal-scroll *ngIf="!isLoading && trendingMovies.length > 0">
    <ng-container *ngFor="let movie of trendingMovies">
      <app-media-card [media]="getMedia(movie)"></app-media-card>
    </ng-container>
  </app-horizontal-scroll>
</section>